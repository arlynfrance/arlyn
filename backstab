-- Backstab Playground ESP Toggle GUI with Exunys ESP integration
-- This loads Exunys's ESP script ONCE and toggles it via a button.

--// Services
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

--// ESP Setup
local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/Exunys/Exunys-ESP/main/src/ESP.lua"))()
ESP.Enabled = false
ESP.TeamCheck = false
ESP.Players = true
ESP.Boxes = true
ESP.Names = true
ESP.Tracers = true
ESP.FaceCamera = true
ESP.TeamColor = false
ESP.Color = Color3.fromRGB(255, 255, 255)
ESP.Thickness = 2
ESP.Transparency = 1
ESP.Font = 2
ESP.Size = 13
ESP.AttachShift = 0
ESP.PlayersESP = true

--// GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 50)
Frame.Position = UDim2.new(0.5, -100, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
UIListLayout.Padding = UDim.new(0, 5)
UIListLayout.Parent = Frame

local ESPButton = Instance.new("TextButton")
ESPButton.Size = UDim2.new(0, 80, 0, 30)
ESPButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ESPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPButton.Font = Enum.Font.SourceSansBold
ESPButton.TextSize = 16
ESPButton.Text = "esp: off"
ESPButton.Parent = Frame

--// Toggle Logic
ESPButton.MouseButton1Click:Connect(function()
    ESP.Enabled = not ESP.Enabled
    if ESP.Enabled then
        ESPButton.Text = "esp: on"
    else
        ESPButton.Text = "esp: off"
    end
end)

print("ESP GUI Loaded - Click the button to toggle ESP.")
